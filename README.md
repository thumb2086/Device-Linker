# 📱 專案名稱：**D-Linker (Device-Linker)**

**核心標語：** *Your Hardware is Your Wealth — 硬體即帳戶，連接即價值。*

---

## 一、 專案願景與定位

**D-Linker** 是一款專為 Android 平台設計的「硬體鎖定型」數位代幣系統。透過手機唯一的硬體特徵生成區塊鏈身分，實現**免註冊、免 Gas 費、免私鑰備份**的極簡體驗。本專案旨在證明區塊鏈技術可以像原生 App 一樣簡單易用。

---

## 二、 系統核心架構設計

### 1. 身份層：硬體原生金鑰 (Hardware-Anchored Identity)

* **硬體綁定**：提取 Android 設備唯一的 `ANDROID_ID` 作為身分種子。
* **確定性推導**：透過 SHA-256 算法與 App 專屬鹽值 (Salt) 在本地生成唯一的區塊鏈地址。
* **隔離儲存**：私鑰由 Android KeyStore 系統保護，不與外界通訊，僅用於本地交易簽名。

### 2. 後端層：Firebase 雲端中繼站 (Serverless Relayer)

* **交易代付**：用戶端僅負責「數位簽名」，所有區塊鏈手續費由 Firebase Cloud Functions 調用管理員錢包代為支付。
* **實時索引**：利用 Firestore 紀錄交易快取，解決區塊鏈確認緩慢的 UI 延遲問題。

### 3. 區塊鏈層：Base Sepolia 帳本 (Immutable Ledger)

* **透明帳本**：使用 Base Sepolia 測試網作為底層資料庫，確保代幣紀錄公開且不可篡改。
* **智能合約**：部署具備管理員印幣 (Mint) 與 P2P 轉帳功能的標準 ERC-20 合約。

---

## 三、 功能模組詳解

### 1. 「即刻擁有」新手模組

App 啟動時自動運算地址，若為新設備，Firebase 後端會自動向該地址發放（Mint）初始數量的代幣，讓用戶一進入 App 就有餘額。

### 2. 「無感轉帳」P2P 模組

用戶掃描對方的地址 QR Code，輸入金額後點擊送出。App 在背景完成數位簽名並傳送至 Firebase，達成秒級的點對點價值傳遞。

### 3. 「全額搬家」帳戶移轉模組

當用戶更換手機時，只需在新手機生成地址，由舊手機掃描新地址並選擇「全額轉出」，即可將所有代幣搬移，無須處理任何助記詞。

---

## 四、 階段性任務清單 (Milestone Roadmap)

### 第一階段：區塊鏈與合約部署 (設計期)

* [ ] **節點配置**：設定 Base Sepolia RPC 連線，並備妥管理員錢包（能源池）。
* [ ] **合約開發**：完成具備 `mint` 與 `transfer` 功能的智能合約。
* [ ] **線上部署**：完成合約部署並取得 ABI 文件與合約地址。

### 第二階段：Firebase 中繼站開發 (核心邏輯期)

* [ ] **密鑰安全**：將管理員私鑰配置於 Firebase 雲端加密環境。
* [ ] **中繼函數**：編寫 Cloud Functions，負責接收 App 簽名並廣播至區塊鏈。
* [ ] **資料同步**：建立 Firestore 監聽邏輯，即時反應餘額變動。

### 第三階段：Android 原生開發 (前端整合期)

* [ ] **金鑰生成器**：實作基於 `ANDROID_ID` 的錢包推導邏輯。
* [ ] **Firebase 整合**：於 App 內導入 Firebase SDK 並對接 Cloud Functions。
* [ ] **UI 實作**：完成資產看板、收款 QR Code 顯示、以及掃描器功能。
* [ ] **簽名引擎**：實作本地端離線簽名（Offline Signing）功能。

### 第四階段：搬家功能與壓力測試 (優化期)

* [ ] **搬家流程測試**：驗證「全額轉出」在不同設備間的相容性。
* [ ] **異常處置**：設計網路斷線或區塊鏈擁堵時的錯誤提示機制。
* [ ] **性能調優**：優化 QR Code 掃描速度與 Firebase 回傳速度。

---

## 五、 開發者風險與技術規範

1. **換機警示**：由於地址綁定硬體，需明確提示用戶：資產僅能透過 App 轉帳功能搬移，刪除 App 且未備份地址將導致資產遺失。
2. **管理員能源限制**：Firebase 後端需監控管理員錢包的 ETH 餘額，確保有足夠的 Gas 費支撐用戶交易。
3. **設備唯一性**：需處理模擬器或特定機型可能產生的 `ANDROID_ID` 衝突風險。
